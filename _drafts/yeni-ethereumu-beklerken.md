# Yazı I - Yeni Ethereum'u beklerken
Bu yazımızda, genel olarak Haziran 2022'ye yetişmesi beklenen Ethereum'un yeni versiyonunun başlangıç tarihinin bir süre daha uzamasını üzerine aklımıza gelecek sorulara cevap arayacağız: Ne kadar daha uzayabilir? Bilmediğimiz bir sorun mu var Ethereum'da? Neden uzuyor? Vitalik dünyayı gezeceğine oturup daha mı çok çalışmalı?... 

Öncelikle bu yeni versiyon nedir, konuya aşina olmayanlar için bir üzerinden geçelim: 

### Ethereum'un doğuşu ve dünden bugüne gelişimi
Efendim, pek çoğunuzun bildiği gibi Ethereum kripto dünyasında Bitcoin'in ardından gelen ikinci büyük blokzincir. Vitalik Buterin denen bir gencin liderliğindeki yedi arkadaşın Bitcoin topluluğundan felsefi olarak ayrışmaları sonrası kurdukları bir platform. Temel ayrılma nedenleri, Bitcoin topluluğunun 'tamamen merkeziyetsiz ve sansür edilemez bir değer saklama aracı bir nevi dijital altın' felsefesine sıkı sıkıya bağlı kalarak gözlerini bu hedeften başka bir yere kaydırmamaları. Vitalik ve arkadaşları ise blokzincir ile hayatımıza giren merkeziyetsizliğin başta finans daha pek çok alanda hayatımızı kökten değiştirebileceğine inanmaları. 

Bu temel felsefe ile yola çıkan Ethereum ekibi başlarına gelen türlü sorunlara rağmen (DAO hack denen ölümcül hastalıktan kurtulmaktan, Vitalik dışındaki neredeyse tüm kurucu ekibin zamanla topluluktan ayrılmasına kadar) Bitcoin'den sonra bu dünyada en büyük ağırlığa sahip oyuncu olmayı başardı. Öyle ki, 2020 yılı başlarından ortaya çıkan merkeziyetsiz finans ve arkasından gelen NFT dünyasının neredeyse %90'ını Ethereum blokzinciri üzerine kuruldu. 

Gelgelelim, burası teknoloji arenası. Dertler de, fırsatlar da bitmiyor. Başına gelen badireleri birbir atlatan Ethereum blokzinciri bu sefer de, DeFi ve NFT dünyasının yoğun talebi karşısında sıkıntıya girmeye başladı. Daha önce 5-10 dolara yapılan işlemler artık 50-100 dolarlara yapılmaya başlandı. Her ne kadar bu durum Ethereum'a olan ilgiyi azalmadıysa da, zaman içinde bu durumu fırsat bilen rakip zincirlerin ucuz ve hızlı işlem yapabilmeleri Ethereum'un pazar payını %75'lere doğru çekti. 

[Ethereum pazar payı - TVL]

Ethereum kurucu ekibi böyle bir durumun gerçekleşebileceğini önceden sezdikleri için, Ethereum'un üzerindeki bu yoğunluğu azaltabilmek için gerekli geliştirmeleri uzun süredir tasarlıyorlar. Yaklaşık iki yıldır merakla beklene bu gelişmeler, zaman içinde ihtiyaçlar ile birlikte kendilerine verilen Ethereum 2.0 ismi de dahil olmak üzere pek çok kez değiştiler. Değişmenin de ötesinde, tarih verilmese de sözlü olarak önce 2022 ilk çeyreği sonra Haziran ayı olarak belirlenen hedef tarihin, geçtiğimiz hafta daha da gecikeceği açıklanınca soru işaretleri de artmaya başladı. Neler oluyordu?.. 

### Ethereum'un yeni versiyonu 
Öncelikle şunu gözden geçirmekte fayda var. Ethereum'un yeni versiyonu neler getiriyor? Başlangıçta ne düşünülüyordu, sonra zamanla nasıl evrildi?

Ethereum'un yeni versiyonunun getirdiği pek çok yenilik var ancak özellikle iki tanesini ön plana çıkarmak gerekli. Bunlar, sistem güvenliğinin artık daha enerji tasarrufu sağlar hale gelmesi (PoW'dan PoS'a geçiş), ikincisi ise üzerindeki yoğun işlem baskısını azaltmak için daha ölçeklenebilir bir yapıya bürünmesi. 

İşte Ethereum'un yeni versiyonu bu iki konuya çözüm getiriyor. (Bu çözümlerin neler olduğuna yazı çok uzamasın diye devam yazımızda bakacağız). 

### Ethereum da yeni trende mi uyum sağlıyor?
Aslına bakarsanız, Ethereum'un blokzincirler arasındaki değer transferi yarışına yukarıdaki çözümler ile ayak uydurmaya başladığını söylemek mümkün. 

Ethereum'un işlem ücretlerinin yüksekliği ve diğer blokzincirlerin likidite çekmek için kullanıcılara verdikleri teşvikler nedeniyle, blokzincir dünyasına giden paranın Ethereum'dan diğer zincirlere kaymaya başladığını söylemiştik. Bu değer kayması, köprüler aracılığı ile oluyordu. Bu nedenle köprüler son zamanlardaki en 'sıcak' konulardan biri haline geldi. İşte Ethereum'da yapılan yenilikler Ethereum'un paranın başka zincirlere kaçmaması için aldığı önlemlerden biri olarak görülebilir. 

Diğer yandan, Polkadot ve Cosmos ile uzun zamandır konuşulan blokzincler arası iletişim ve değer transferi sağlayacak alt tabaka (Layer 0) çözümler de popülerlik kazanmaya başlamıştı. Ethereum'un yaptığı da aslına bakarsanız bir nevi buna benziyor. Bir başka yükselen zincir Avalanche'ın da subnet ile benzer bir çizgiye girdiğini söylemek mümkün. Peki bunların farkları neler? 

Çok fazla detayına girmeden, üzerlerine kurulu zincirleri ne kadar katı kurallar ile bağladıklarının temel farkları olduğu söylenebilir. Ethereum için üzerindeki 64 zincir katı kurallar ile birbirlerine bağlı iken, diğer zincirler sırası ile Polkadot, Cosmos ve Avaz olarak sıralanıyorlar (Cosmos mu daha 'gevşek' Avalanche'mı o başka bir yazının tartışma konusu olabilir. 

### Ethereum gecikiyor mu?
Bütün bu değişikler olurken ve Haziran ayı hedef olarak beklenirken, bu tarihin gecikeceğinin açıklanması konuyu dışarıdan takip edenler için oldukça hayal kırıklığı yaratmış durumda. (Aslına bakarsanız, geliştirici ekip Haziran diye bir tarih vermedi, bu dışarıdan konuya ilgi duyanların ortaya attığı bir iddia. Ekip ısrarla tarih vermekten kaçınıyor.)

Bu arada, başlangıçta Ethereum 2.0 olarak adlandırılan bu değişim sürecinin ismi de değişmiş durumda. Artık Ethereum 2.0 yok, bunun yerine bildiğimiz şu anki Ethereum'un eth1 olarak işlem yapılan katman, yeni gelen zincirin ise eth2 olarak konsensüs katmanı olarak adlandırılması var. Kısacası, yukarıda bahsettiğimiz işlemlerin hesaplamasını blokzincirde yapan şu anki sistem kalıyor, işlemlerin hesaplamasını ikinci seviye çözümlere bırakan ve sadece sonuçları tutan yeni bir katman geliyor. İyi de ne zaman geliyor?

Kişisel yorumumu soracak olursanız, geçtiğimiz yıl içinde konuyu takip ederken Ethereum 2.0'un 2022 yılı içinde bitmesini neredeyse imkansız olarak görüyordum. Bunun nedeni, işlemlerin hesaplanmasının 64 zincir arasından paylaşımının getireceği komplikasyonlar idi. Yeni durumda Ethereum, işlem hesaplamasını ikinci seviye çözümlere bırakıp sadece sonuçların blokzincire yazılmasını teşvik ettiği için, aslında teknik olarak işin zorluğunun büyük bir kısmı ortadan kalktı. 

Şu an yaşanan birkaç aylık gecikme aslında gayet normal. Havada uçan bir uçağı tamir etmeye ve değiştirmeye çalışıyorsunuz. Gecikmeler olabilir. Soru işareti 'bu gecikmeler daha ne kadar devam edecek?'. Bu ekibin yaşayacağı sorunlara bağlı. Son yapılan testlerde sorunlar çıksa da bunlar çözülmüş durumda, yani ilerleme var. Ekip bundan sonra ne yapacağını biliyor. Örneğin, artık sistemi küçük bir grup onaylayıcı ile canlı olarak test etmeye başlıyorlar. Burada onaylayıcı tarafında çıkan sorunları önceden görüp sisteme zarar getirmeden çözebilecekler. 

Bu arada hemen belirtelim, PoS mekanizmasını güvenli hale getirmek için ETH rehin etmiş olanlar, yeni sistem geldiğinde paralarını hemen geri çekebileceklerinin hayalini kurmasınlar. Para çekmelerin başlaması için herşey bittikten sonra bir altı ay kadar daha beklemek gerekecek. 

'Sadede gel' diyenlere cevabım, "Yeni sistemin devreye girmesi, 2022 yılı içinde bitme ihtimalini eskiye göre daha kuvvetli görüyorum" olacak. 

### Sonuç 
Ethereum, çok büyük bir evrimden geçiyor. Bu süreçte, başlangıçtaki hedeflerin değişen koşullara göre değişmesi, ya da gecikmeler olması normal. 2020 yılının Aralık ayında PoS ile başlayan, sonrasında Ethereum 2.0 isminin değişmesi devam eden süreçte yolun büyük bir kısmı alınmış durumda. Son dakikada büyük pürüzler çıkmaz ise eth1 ve eth2'den oluşan yeni Ethereum'u 2022 yılı sonu gelmeden görebiliriz. 

---

# Yazı II

Ethereum'un yeni hali ile ilgili olarak yorumları bir araya getirdiğimiz ilk yazımız sonrası, şimdi de işin derinine girmek isteyenler için  sisteme gelecek olan yeniliklerin üzerinden geçiyoruz. 

Geçtiğimiz yazıda, Ethereum'un yeni sisteminin getirdiği pek çok yenilik içinde temel olarak en önemli olanlarının, enerji tasarrufu sağlaması ve ölçeklenebilirlik olduğundan bahsetmiştik. Gelin şimdi bu iki önemli değişikliğe detaylıca bakalım: 

#### Sistem güvenliği (Pos) değişikliği
Enerji tasarrufu konusu gerek Bitcoin gerekse Ethereum'un zayıf karnı denebilir. Zamanında, Bitcoin tarafından başlatılan sonrasında Ethereum tarafından kopyalanan PoW (proof-of-work iş kanıtı) mekanizması, blokzincir üzerindeki güvenliğin sağlanabilmesi için sistemi yürüten onbinlerce makinenin belli bir enerji harcaması yapması esasına dayanıyor. Ethereum sonrası çıkan pek çok yeni blokzincir ise, bunun yerine PoS (proof-of-stake hisse kanıtı) başka bir mekanizma kullandılar. Bitcoin topluluğu felsefi olarak PoW'u bırakmayıp devam ederken Ethereum topluluğu bu PoS sistemini sevdi ve kendini o sisteme geçmek için hazırlamaya başladı. PoS sistemi sayesinde Ethereum'un enerji harcaması %99 oranında düşecek. Dolayısıyla bundan sonra bazı politikacıların kulaktan dolma bilgilerde çok sık kullandıkları 'ama blokzincir çok enerji harcıyor' argümanı ile bundan böyle sadece Bitcoin topluluğu muhatap olacak. 

Ethereum'da PoS'e geçiş sadece teoride kalmış değil, uzunca bir süredir pratik olarak yol almış durumda. PoW mekanizmasında sistemi yürüten madenciler, PoS'da yerlerini sisteme para kilitleyerek koruyacak olan onaylayıcılara bırakıyorlar. Aralık 2020'den itibaren PoS hazırlık olarak insanlar (ya da kurumlar) ellerindeki ETH'yi belli bir faiz oranı karşılığında rehin etmeye ve onaylayıcı olmaya başladılar. Şu ana kadar [11 milyon ETH](https://beaconcha.in/) yani [toplam dolaşımdaki ETH'nin](https://etherscan.io/stat/supply) %9.3'ü sisteme kilitlenmiş durumda. 

[ETH kililtlenen para miktarı]

Bu değişiklik aslında bakarsanız son aşamasında gelmiş durumda ve planlandığı gibi gidiyor. Asıl büyük değişimlerden geçen ve sancılı süreç diğer değişiklik olan ölçeklenebilme konusunda yaşandı.  

#### Ölçeklenebilme (Sharding)
Ethereum'un 2020 ve 2021 yıllarında yaşadığı yoğunluk sonrası işlem ücretleri arşa çıktı. Niye bu kadar büyük bir yoğunluk yaşandı? Yaşanan sorun hızlı bir şekilde çözülemez miydi? 

Sorunun arkasında yatan neden, blokzincirlerin aslında çok kısıtlı bir kapasiteye sahip olması. Daha önceki yazılarımızda da belirtmiştik, blokzincirler öyle çok üstün süpersonik teknolojiler değiller. Üstelik yapıları gereği çok verimli de çalışmıyorlar. Aslına bakarsanız evinizde kullandığınız son model bir bilgisayarın işlem gücü blokzincirin yapabileceğinden çok daha üstün. Neden blokzincire ihtiyaç duyuyoruz o zaman? 

##### Neden blokzincire ihtiyaç duyarız?
Blokzincir aslında bize çok da farklı bir hizmet sunuyor, o da 'kimseye güven duymak zorunda olmamak'. Blokzincirin yaptığı işi çok daha verimli olarak bir sunucuda duran bilgisayar ile yapabilirsiniz. Gayet de güzel olur. Sorun ne peki?  Sorun o bilgisayarın sahibinin kim olduğu ve içindekileri değiştirip değiştiremeyeceği. İşte blokzincir, kendi sisteminin birbirinden bağımsız binlerce makinede yürüterek herhangi bir kişi ya da kurumun sistemi kendi nüfuzu altına almasına engel oluyor. İyi de gerçekten ihtiyaç var mı buna? 

Bunu kestirmek oldukça zor. Gündelik hayatımızda bugün çok ihtiyaç duymayabiliriz, ama yarın her an durum değişebilir. İsterseniz, Donald Trump'a bir sorun bunu. Bir gecede Twitter'daki 80 milyon takipçisini kaybettiğinde 'sesini kaybetmiş' gibi hissetti mi? Ya da Facebook üzerine oyun geliştirip ekmek parası kazanmayı uman geliştiriciler bir gece ansızın aldıkları bir mesaj ile platformdan atılmaları durumunda neler yaşadılar acaba? Ya da Rusya Merkez Bankası'na sorun bakalım, batıda tuttukları 400 milyar dolarlarına el konulduğu gece uyuyabildiler mi?

İşte blokzincirler bu güveni verebilmek için binlerce makineye ihtiyaç duyarlar. Binlerce makinenin sistemi yürütebilmesi için ise, sistemi ve işlenecek bilgileri olabildiğince ufak tutmaları gerekir. Bilginin ufak tutulması demek işlem yapılacak alanın küçük olması ve yoğun talep olduğunda arz-talep dengesi gereği sistemin pahalanması demek. 

Neden bilginin yazılacağı alanı genişletip kullanıcıları rahatlatmıyorlar? Böyle bir durumda birkaç sorun çıkıyor ortaya. Blokzincirde yaptığınız her işlemin işlenmesi ve kaydedilmesi gerekiyor. Hem de bu onbinlerce makine tarafından. Eğer siz bilginin yazılacağı alanı genişletirseniz (yani her bir bloğu büyütürseniz) bunu işleyecek ya birbirleri ile eş şekilde güncelleyecek makine sayısı azalır (sonuçta bilgisayarların bir kapasitesi var), sadece yüksek performanslı makineler kalır ortada. Böyle olunca merkeziyetsizlikten ödün vermiş olursunuz, bu da sistem güvenliğini tehlikeye atabilir. Sonuç olarak bin makineyi ele geçirmek on bin makineyi ele geçirmekten daha kolay olur. 

İşte bu nedenle, Ethereum zinciri merkeziyetsizlikten ödün vermemek adına, sistemi daha geniş kapasiteli yapma yoluna gitmediler. Bunun yerine farklı çözümler denediler. 

#### Ethereum'un ölçeklenme sorunu hikayesi
Ethereum'un ölçeklenme sorunu için bulduğu çözüme değinmeden önce Ethereum'un nasıl çalıştığına bir parça daha değinmekte fayda var. 

Ethereum bir 'akıllı kontrat platformu'. Bu ne demek? Üzerinde akıllı kontratların çalıştığı bir işletim sistemi (telefonunuzdaki iOS ya da Android gibi). Akıllı kontratlar da aslında telefonunuzdaki uygulamalar. Bu uygulamalar, blokzincire yazılıyorlar ve sonrasında işlem yapmak istediğinizde Ethereum blokzinciri üzerinde çalışarak işleminizi gerçekleştiriyorlar. Bu sayede yaptığınız işlemi blokzincirin şeffaf yapısı sayesinde tam olarak izleyebiliyorsunuz. 

Sorun da aslında burada başlıyor. Yukarıda daha fazla makinenin sistemi yürütebilmesi için blokların ufak tutulması gerektiğini söylemiştik. Bu akıllı kontratlar ise özellikle karmaşık işlemler olduğunda bu bloklarda çok yer tutuyorlar. Böyle olunca bloklar hızlı doluyor ve işlem ücretleri arşa çıkmaya başlıyor. 

Ethereum ekibi başlangıçta bu sorunu çözmek için, Ethereum'u 64 ayrı blokzincire bölerek kapasitesini artırmak gibi bir yola gittiler. Böyle bir durumda işlemler ayrı blokzincirlerde yapılacak ve sonra bir ana zincir üzerinde toplanacaktı. Her ne kadar kapasiteyi artırsa da bir süre sonra bu çözümün de yeterli olmayacağı aşikar idi. İşte o nedenle geçtiğimiz aylarda yavaş yavaş bu planı da değiştirmeye başladılar. Nasıl bir yola girdiler? Birbiri ile bağlantılı iki uygulamaya ağırlık verdiler. 

##### İkinci seviye çözümler (bir diğer deyişle dürüm yani 'roll-up' sistemler)
Ethereum geliştiricileri başta Vitalik olmak üzere geçtiğimiz yıl içinde hararetle ikinci seviye çözümleri ön plana çıkarmaya başladılar. 

İkinci seviye çözümler, Ethereum ekibi tarafından değil, bağımsız geliştiriciler tarafından geliştiriliyorlar. Temel olarak yaptıkları bizim bilgisayarlarda kullandığımız 'zip' dosyalardan farklı değil. 'Zip' dosyaları bilirsiniz; on tane Excel dosyasını bir zip dosyası haline getirirseniz, boyutunu aşağı yukarı onda birine indirirsiniz. İşte ikinci seviye çözümler de yapılan onlarca işlemin Ethereum üzerinde değil, kendi ikinci seviye üzerinde yapılmasını sağlayıp, sadece sonuçlarını Ethereum üzerine yazıyorlar. Bu sayede yüzlerce işlemi biraz büyükçe tek bir işlem gibi yazabilme imkanı doğuyor bu da işlem maliyetlerini ciddi bir şekilde azaltıyor. 

İkinci seviye çözümler güvenli mi? Güvenirlik oldukça göreceli bir kavram. Öncelikle, paranızın güvende olup olmadığı perspektifinden bakıyorsanız, evet. Zira paranız Ethereum blokzinciri tarafından korunuyor. Başka yan zincirlerde örneğin Polygon'da paranızı o zincir koruyor, o zincirde bir sorun olursa paranız tehlikeye girebilir. Ya da Polygon zinciri durdu, paranıza erişemezsiniz (Solana'da çok sık yaşanan bir durum bu). İkinci seviye çözümlerde ise çözümde bir sorun olsa bile siz paranızı Ethereum üzerinde tutuyorsunuz ve başka çözümler kullanarak işletebilirsiniz. İkinci seviye çözümlerin getirebileceği yazılım kodundaki olası riskler olabildiğince minimize edilmiş olmalı ki, Vitalik sahip Ethereum ekibi rahatlıkla bu çözümleri kullanıcılara önerebiliyorlar.  

##### Ethereum 2.0'in değişimi
İkinci önemli değişiklik ise Ethereum'un yeni versiyonunda oldu. Herhangi bir kullanıcının Ethereum üzerinde tüm işlemleri yapması şeffaflık açısından olumlu olsa da, işlemin yüksek yer tutması açısından blokzinciri tıkıyordu. Yeni Ethereum her ne kadar kapasiteyi 64 katına çıkarsa da yine de yetmeyecekti. Bu nedenle, Ethereum geliştiricileri, kapasiteyi yine 64 kata çıkardılar ama önemli bir değişik ile. O da işlemleri artık blokzincir üzerinde yapmak yerine ikinci seviye çözümlere yönlendirecekler. Bunun yerine yeni sistemde işlemlerin hesaplanmasını değil, işlemlerin sonuçlarını blokzincire yazacaklar. Bu yer işgali anlamında muazzam bir tasarruf demek. 

### Sonuç
Ethereum, PoW mekanizmasından PoS'e geçmeye uzun süredir hazırlanıyor ve bu alanda önemli bir sıkıntı görülmüyor. Asıl değişikliklerin yaşandığı ve 'kervanın yolda düzüldüğü' ölçeklenme konusunda, yolun başına göre artık çok daha rahat bir durumdalar. Bakalım, son dakika golleri olmadan rahat bir şekilde maçı bu yıl içinde tamamlayabilecekler mi?
